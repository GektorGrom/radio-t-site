{{ define "head" }}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@{{ .Site.Params.twitter }}">
  <meta name="twitter:url" content="{{ .Site.Params.url }}{{ .URL }}">
  <meta name="twitter:title" content="{{ .Title }}">
  <meta name="twitter:description" content="{{ .Site.Params.twitterCardDescription }}">
  {{ with .Params.image }}
    <meta name="twitter:image" content="{{ . }}">
  {{ end }}
{{ end }}

{{ define "main" }}

  <div class="pt-4 pt-lg-6 {{ delimit (apply .Params.categories "printf" "category-%s" ".") " " }}">

    {{ if in .Params.categories "podcast" }}

      <div class="container-fluid">
        <div
          class="row post-podcast"
          data-controller="podcast"
          data-target="page.podcast"
          data-podcast-url="{{ .Permalink }}"
        >
          <div class="col-md-2 d-flex flex-column justify-content-between">
            <div>
              <h1 class="number-title">{{ partial "number-title" . }}</h1>
              <p class="post-time small">{{ partial "post-time" . }}</p>
            </div>
            {{ partial "share" }}
          </div>
          <div class="col-md-3 order-md-3">{{ partial "podcast-cover" . }}</div>
          <div class="post-podcast-content text-content col-md-7 col-lg-5 no-js" data-controller="podcast-content highlight">
            {{ .Content }}
          </div>
          <div class="col-lg-2 order-md-4">
            <p>Sponsor</p>
            <p>Audio</p>
            <p>Chat logs</p>
          </div>
        </div>
        {{ partial "post-footer" . }}
      </div>
      {{ partial "comments-block" }}

    {{ else if in .Params.categories "prep" }}

      <div class="container-fluid">
        <div class="row">
          <div class="col-md-2">
            <h1 class="number-title">{{ partial "number-title" . }}</h1>
            <p class="post-time small">{{ partial "post-time" . }}</p>
          </div>
          <div class="col-md">
            {{ partial "comments" }}
          </div>
          <div class="col-md-2">{{ partial "share" }}</div>
        </div>
        {{ partial "post-footer" . }}
      </div>

    {{ else }}

      <div class="container-fluid">
        <h1 class="display-4 mb-4">{{ .Title }}</h1>
        <div class="row">
          <div class="col-md-2">
            <p class="post-time small">{{ partial "post-time" . }}</p>
            {{ partial "share" }}
          </div>
          <div class="text-content col-md-8" data-controller="highlight">
            {{ .Content }}
          </div>
        </div>
        {{ partial "post-footer" . }}
      </div>
      {{ partial "comments-block" }}
    {{ end }}
  </div>
{{ end }}
